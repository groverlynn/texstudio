
To compile and install TeXstudio, write:
mkdir build
cd build
cmake ..
cmake --build . --target texstudio

On Unix and MacOSX you can also use:
sudo sh BUILD.sh

(you only need to use sudo if you want to install it system-wide)

Requirements : 
* Qt tool kit (qt.io) (6.2+ recommended)
* Poppler for the internal pdf preview 
  (is automatically disabled if poppler is not found)
* For MacOS, brew deliberately broke the poppler package. Try the following poppler-qt6:
* wget https://github.com/sunderme/homebrew-qt6-modules/releases/download/6.5.0/poppler-23.04.0-Darwin.tar.xz
* sudo tar xvf ./poppler-23.04.0-Darwin.tar.xz -C /usr/local/qtbase-6.5.0 --strip-components=1
* rm poppler-23.04.0-Darwin.tar.xz
* mkdir build
* cd build
* cmake ..
* cmake --build . --parallel
* cmake --build . -t install
* (other dependencies: cairo fontconfig freetype gettext jpeg libpng libtiff little-cms2 nspr nss openjp eg ninja)
* bash BUILD.sh

* One-liner:
* /opt/Qt/Tools/CMake/CMake.app/Contents/bin/cmake -S .. -B . -GNinja -DCMAKE_BUILD_TYPE:STRING=Debug -DQT_QMAKE_EXECUTABLE:STRING=/opt/Qt/6.4.2/macos/bin/qmake -DCMAKE_PREFIX_PATH:STRING=/opt/Qt/6.4.2/macos -DCMAKE_C_COMPILER:STRING=/opt/homebrew/bin/gcc-12 -DCMAKE_CXX_COMPILER:STRING=/opt/homebrew/bin/g++-12
* /opt/Qt/Tools/CMake/CMake.app/Contents/bin/cmake --build . --parallel

* Or, manually:
* mkdir build
* cd build
* export PATH="/opt/Qt/6.4.2/macos/bin:$PATH"
* export LDFLAGS="-L/opt/Qt/6.4.2/macos/lib"
* export CPPFLAGS="-I/opt/Qt/6.4.2/macos/include"
* /opt/Qt/6.4.2/macos/bin/qt-cmake .. -GNinja -DTEXSTUDIO_ENABLE_MEDIAPLAYER:BOOL=ON
* /opt/Qt/Tools/CMake/CMake.app/Contents/bin/cmake --build . --parallel
* mkdir -p texstudio.app/Contents/Frameworks
* cp -L /opt/homebrew/lib/libbrotlicommon.1.dylib texstudio.app/Contents/Frameworks
* install_name_tool -add_rpath @loader_path/../Frameworks texstudio.app/Contents/MacOS/texstudio
* /opt/Qt/6.4.2/macos/bin/macdeployqt texstudio.app -no-strip -dmg -always-overwrite


# build per github
## poppler
wget https://github.com/sunderme/homebrew-qt6/releases/download/6.4.2/QtBase-6.4.2-Darwin.tar.xz
sudo tar xvf ./QtBase-6.4.2-Darwin.tar.xz -C /usr/local
rm QtBase-6.4.2-Darwin.tar.xz
wget https://github.com/sunderme/homebrew-qt6-modules/releases/download/6.4.2/QtSvg-6.4.2-Darwin.tar.xz
sudo tar xvf ./QtSvg-6.4.2-Darwin.tar.xz -C /usr/local/QtBase-6.4.2-Darwin --strip-components=1
rm QtSvg-6.4.2-Darwin.tar.xz
wget https://github.com/sunderme/homebrew-qt6-modules/releases/download/6.4.2/Qt5Compat-6.4.2-Darwin.tar.xz
sudo tar xvf ./Qt5Compat-6.4.2-Darwin.tar.xz -C /usr/local/QtBase-6.4.2-Darwin --strip-components=1
rm Qt5Compat-6.4.2-Darwin.tar.xz
wget https://github.com/sunderme/homebrew-qt6-modules/releases/download/6.4.2/QtTools-6.4.2-Darwin.tar.xz
sudo tar xvf ./QtTools-6.4.2-Darwin.tar.xz -C /usr/local/QtBase-6.4.2-Darwin --strip-components=1
rm QtTools-6.4.2-Darwin.tar.xz
wget https://github.com/sunderme/homebrew-qt6-modules/releases/download/6.4.2/QtDeclarative-6.4.2-Darwin.tar.xz
sudo tar xvf ./QtDeclarative-6.4.2-Darwin.tar.xz -C /usr/local/QtBase-6.4.2-Darwin --strip-components=1
rm QtDeclarative-6.4.2-Darwin.tar.xz
wget https://github.com/sunderme/homebrew-qt6-modules/releases/download/6.4.2/poppler-23.02.0-Darwin.tar.xz
sudo tar xvf ./poppler-23.02.0-Darwin.tar.xz -C /usr/local --strip-components=1
rm poppler-23.02.0-Darwin.tar.xz
wget https://github.com/sunderme/homebrew-qt6-modules/releases/download/6.4.2/QuaZip-1.4-Darwin.tar.xz
sudo tar xvf ./QuaZip-1.4-Darwin.tar.xz -C /usr/local --strip-components=1
rm QuaZip--23.02.0-Darwin.tar.xz
brew install cairo fontconfig freetype gettext jpeg libpng libtiff little-cms2 nspr nss openjpeg
brew install ninja pkg-config
## configure
mkdir build
cd build
/usr/local/QtBase-6.4.2-Darwin/bin/qt-cmake .. -G Ninja
## Build
cmake --build . --parallel
## workaround
mkdir -p texstudio.app/Contents/Frameworks
cp /opt/homebrew/lib/libbrotlicommon.1.dylib texstudio.app/Contents/Frameworks
touch texstudio.app/Contents/Resources/empty.lproj
## package
/usr/local/QtBase-6.4.2-Darwin/bin/macdeployqt texstudio.app -dmg
